{"version":3,"sources":["app.js","services/data.js","controllers/map.js"],"names":["angular","module","service","$http","this","getUsers","cb","get","then","controller","$scope","$timeout","dataService","initMap","locationUSA","lat","lng","map","google","maps","Map","document","getElementById","center","scrollwheel","zoom","createMarkers","users","markers","i","length","push","Marker","position","title","reFocusMap","bounds","LatLngBounds","extend","getPosition","fitBounds","setZoom","updateMap","simulateQuery","obj","data","response"],"mappings":"AAAA,YACAA,SAAAC,OAAA,iBCAAD,QAAAC,OAAA,cACAC,QAAA,eAAA,QAAA,SAAAC,GACAC,KAAAC,SAAA,SAAAC,GACAH,EAAAI,IAAA,cAAAC,KAAAF,OCHAN,QAAAC,OAAA,cACAQ,WAAA,WAAA,SAAA,WAAA,cAAA,SAAAC,EAAAC,EAAAC,GAEAF,EAAAG,QAAA,WAEA,GAAAC,IACAC,IAAA,SACAC,IAAA,WAGAN,GAAAO,IAAA,GAAAC,QAAAC,KAAAC,IAAAC,SAAAC,eAAA,QACAC,OAAAT,EACAU,aAAA,EACAC,KAAA,KAIAf,EAAAgB,cAAA,SAAAC,GAEA,IAAA,GADAC,MACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IACAD,EAAAG,KACA,GAAAb,QAAAC,KAAAa,QACAf,IAAAP,EAAAO,IACAgB,UACAlB,IAAAY,EAAAE,GAAA,IACAb,IAAAW,EAAAE,GAAA,KAEAK,MAAAP,EAAAE,GAAA,WAAA,IAAAF,EAAAE,GAAA,YAIA,OAAAD,IAGAlB,EAAAyB,WAAA,SAAAP,GAEA,IAAA,GADAQ,GAAA,GAAAlB,QAAAC,KAAAkB,aACAR,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IACAO,EAAAE,OAAAV,EAAAC,GAAAU,cAEA7B,GAAAO,IAAAuB,UAAAJ,GACA1B,EAAAO,IAAAwB,QAAA,KAGA/B,EAAAgC,UAAA,SAAAf,GACAjB,EAAAyB,WAAAzB,EAAAgB,cAAAC,KAGAjB,EAAAG,UAMAH,EAAAiC,cAAA,WACA/B,EAAAP,SAAA,SAAAuC,GACA,GAAAjB,GAAAiB,EAAAC,KAAAC,QACApC,GAAAgC,UAAAf,MAIAhB,EAAA,KAAAH,KAAAE,EAAAiC","file":"main.min.js","sourcesContent":["\"use strict\";\nangular.module('sparFinder', []);","\"use strict\";\nangular.module('sparFinder')\n    .service('dataService', ['$http', function ($http) {\n       this.getUsers = function (cb) {\n           $http.get('/api/users').then(cb);\n       }\n    }]);","\"use strict\";\nangular.module('sparFinder')\n    .controller('mapCTRL', [\"$scope\", \"$timeout\", \"dataService\", function ($scope, $timeout, dataService) {\n\n        $scope.initMap = function () {\n\n            var locationUSA = {\n                \"lat\": 37.09024,\n                \"lng\": -95.712891\n            };\n\n            $scope.map = new google.maps.Map(document.getElementById('map'), {\n                center: locationUSA,\n                scrollwheel: false,\n                zoom: 3\n            });\n        };\n\n        $scope.createMarkers = function (users) {\n            var markers = [];\n            for (var i = 0; i < users.length; i++) {\n                markers.push(\n                    new google.maps.Marker({\n                        map: $scope.map,\n                        position: {\n                            lat: users[i]['lat'],\n                            lng: users[i]['lng']\n                        },\n                        title: users[i]['first_name']+' '+users[i]['last_name']\n                    })\n                );\n            }\n            return markers;\n        };\n\n        $scope.reFocusMap = function (markers) {\n            var bounds = new google.maps.LatLngBounds();\n            for (var i = 0; i < markers.length; i++) {\n                bounds.extend(markers[i].getPosition());\n            }\n            $scope.map.fitBounds(bounds);\n            $scope.map.setZoom(10);\n        };\n\n        $scope.updateMap = function (users) {\n            $scope.reFocusMap($scope.createMarkers(users));\n        };\n\n        $scope.initMap();\n\n        /*\n        Delete once actual functionality is implemented\n        *****************************************************/\n\n        $scope.simulateQuery = function () {\n            dataService.getUsers(function (obj) {\n                var users = obj.data.response;\n                $scope.updateMap(users);\n            });\n        };\n\n        $timeout(3000).then($scope.simulateQuery);\n\n    }]);"],"sourceRoot":"/source/"}